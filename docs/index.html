<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mixture model for the deconvolution of thermal decay curves • mixchar</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><link href="extra.css" rel="stylesheet">
<meta property="og:title" content="Mixture model for the deconvolution of thermal decay curves">
<meta property="og:description" content="This package allows you to quantify proportion of biomass components 
    derived from thermogravimetric analysis (TGA). Mass loss data from TGA outputs 
    are imported, modified, and then modelled in a three- or four- part  mixture 
    model using the Fraser-Suzuki function. The output is estimates for weights 
    of pseudo-components corresponding to hemicellulose, cellulose, and lignin.">
<meta property="og:image" content="http://smwindecker.github.io/mixchar/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">mixchar</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fas fa fas fa-book"></span>
     
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/Background.html">Detailed methodology</a>
    </li>
    <li>
      <a href="articles/mixchar.html">Workflow with mixchar</a>
    </li>
  </ul>
</li>
<li>
  <a href="reference/index.html">
    <span class="fa fa-file-code-o"></span>
     
    functions
  </a>
</li>
<li>
  <a href="https://github.com/smwindecker/mixchar">
    <span class="fa fa-github fa-lg"></span>
     
    github
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    

    
    
<div id="section" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#section" class="anchor"></a><img src="reference/figures/logo.png" height="80" width="350">
</h1></div>

</div>
<div id="why-deconvolution" class="section level1">
<h1 class="hasAnchor">
<a href="#why-deconvolution" class="anchor"></a>Why deconvolution?</h1>
<p>Ecologists are often interested in determining the composition of plant cell wall biomass. Proportions of the primary carbon types are useful for estimating kinetic decay parameters or for calculation of intrinsic plant traits. Traditional methods for calculation of these components involve wet chemistry methods that can be monetarily and environmentally costly. Thermogravimetric analysis is an alternative method, already in use in the biofuel field, that involves pyrolysing dry, ground plant litter and estimating components from resulting mass decay peaks. Since different carbon types break down relatively independently during different temperature phases, we can separate the multi-peaked rate of mass loss curve into constituent parts using a mixture model. This package conducts this peak separation analysis in a open-source and reproducible way using R. This methodology has been tested on a range of plant litter composed primarily of soluble carbohydrates, hemicellulose, cellulose, and lignin.</p>
</div>
<div id="installation" class="section level1">
<h1 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h1>
<p>You can install <code>mixchar</code> from <a href="https://github.com/">GitHub</a> with:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install.packages</span>(<span class="st">"devtools"</span>)
devtools<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github">install_github</a></span>(<span class="st">"smwindecker/mixchar"</span>)</code></pre></div>
<p>Below we will show a basic implementation of the package. For a detailed discussion of the methodology, please see the <a href="http://smwindecker.github.io/Background">website</a>. You can also find a full worked example either on the <a href="http://smwindecker.github.io/mixchar">website</a> or in the vignette that you can access via R as follows:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">browseVignettes</span>(<span class="st">'mixchar'</span>)</code></pre></div>
</div>
<div id="basic-use" class="section level1">
<h1 class="hasAnchor">
<a href="#basic-use" class="anchor"></a>Basic use</h1>
<p>Data from thermogravimetric analysis is usually exported in one of two forms: as mass loss or mass remaining (mg) by temperature. An example dataset that contains mass loss data for the species <em>Juncus amabilis</em> is included in the package:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(mixchar)
<span class="kw">head</span>(juncus)
<span class="co">#&gt;   temp_C mass_loss</span>
<span class="co">#&gt; 1 31.453 -0.000931</span>
<span class="co">#&gt; 2 31.452 -0.001340</span>
<span class="co">#&gt; 3 31.450 -0.001350</span>
<span class="co">#&gt; 4 31.450 -0.001660</span>
<span class="co">#&gt; 5 31.450 -0.001680</span>
<span class="co">#&gt; 6 31.450 -0.001800</span></code></pre></div>
<p>We can use the function <code><a href="reference/process.html">process()</a></code> to take the derivative of this data, resulting in rate of mass loss over temperature data. To do so you need to specify the dataset, the initial mass of sample, the name of the temperature data column, and the name of your mass loss or mass data column. If you have mass loss data you can specify with <code>mass_loss</code> argument, if it’s mass remaining data you can use the <code>mass</code> argument. You only need to provide one. The function defaults to temperature data in Celsius, but you can also indicate the data is provided in Kelvin, by adding <code>temp_units = 'K'</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">tmp &lt;-<span class="st"> </span><span class="kw"><a href="reference/process.html">process</a></span>(juncus, 
               <span class="dt">init_mass =</span> <span class="fl">18.96</span>, 
               <span class="dt">temp =</span> <span class="st">'temp_C'</span>, 
               <span class="dt">mass_loss =</span> <span class="st">'mass_loss'</span>)</code></pre></div>
<p>The default plot function for the derivative data shows you both the mass with temperature curve and the derivative rate of mass loss curve.</p>
<p>Processed data then needs to be deconvolved into its constituent parts. The deconvolve function takes care of this step, by cropping the derivative data to exclude dehydration and then running the Fraser-Suzuki mixture model and estimating individual curve parameters and weights.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">output &lt;-<span class="st"> </span><span class="kw"><a href="reference/deconvolve.html">deconvolve</a></span>(tmp)</code></pre></div>
<p>Although most biomass samples have only three main components (corresponding to hemicellulose, cellulose, and lignin), some have a second hemicellulose curve in the low temperature range. The function will decide whether three or four curves are best, but you can override it by modifying the <code>n_curves</code> argument. The function also has built in starting values for the nonlinear optimisation. If you’d like to modify those or the upper and lower bounds for the estimates, you can also do so with the <code>start_vec</code>, <code>lower_vec</code>, and <code>upper_vec</code> arguments to <code><a href="reference/deconvolve.html">deconvolve()</a></code>.</p>
<p>The <code><a href="reference/deconvolve.html">deconvolve()</a></code> function results in a variety of outputs. You can use a accessor functions to look at these. <code><a href="reference/component_weights.html">component_weights()</a></code> will display the weights of each carbon component, <code><a href="reference/rate_data.html">rate_data()</a></code> will show you the modified dataset used for fitting, <code><a href="reference/model_fit.html">model_fit()</a></code> will show you the model fit, and <code><a href="reference/temp_bounds.html">temp_bounds()</a></code> will print the temperature values at which the data were cropped for analysis. You can also plot the resulting output using the default plotting function, which can be in black and white or in colour.</p>
</div>
<div id="contribution" class="section level1">
<h1 class="hasAnchor">
<a href="#contribution" class="anchor"></a>Contribution</h1>
<p>This is still a work in progress! If you see any mistakes, or find that the code is not functioning well on your data, let us know by logging a bug on the <a href="http://www.github.com/smwindecker/mixchar/issues">issues page</a>.</p>
</div>
<div id="acknowledgements" class="section level1">
<h1 class="hasAnchor">
<a href="#acknowledgements" class="anchor"></a>Acknowledgements</h1>
<p>Thank you to Nick Tierney and David Wilkinson for valuable feedback during development. Thanks to the Holsworth Wildlife Reseach Endowment &amp; The Ecological Society of Australia for support on this project.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/smwindecker/mixchar">https://​github.com/​smwindecker/​mixchar</a>
</li>
<li>Report a bug at <br><a href="https://github.com/smwindecker/mixchar/issues">https://​github.com/​smwindecker/​mixchar/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="https://github.com/smwindecker">Saras Windecker</a> <br><small class="roles"> Author, maintainer </small>  </li>
<li>
<a href="https://github.com/goldingn">Nick Golding</a> <br><small class="roles"> Author </small>  </li>
</ul>
</div>

      <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://travis-ci.org/smwindecker/mixchar"><img src="https://travis-ci.com/smwindecker/mixchar.svg?branch=master" alt="Build Status"></a></li>
<li><a href="https://codecov.io/gh/smwindecker/mixchar"><img src="https://codecov.io/gh/smwindecker/mixchar/branch/master/graph/badge.svg" alt="codecov"></a></li>
<li><a href="http://www.repostatus.org/#active"><img src="http://www.repostatus.org/badges/latest/active.svg" alt="repo status"></a></li>
</ul>
</div>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by <a href="https://github.com/smwindecker">Saras Windecker</a>, <a href="https://github.com/goldingn">Nick Golding</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
